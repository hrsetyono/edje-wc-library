!function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([,,,function(e,t,o){"use strict";o.r(t);o(4);const r=jQuery,i={init(){const e=document.querySelector("#product-type");e&&(this.addTypeClass(e),e.addEventListener("change",e=>{this.addTypeClass(e.currentTarget)}))},addTypeClass(e){const t=e.value,o=document.querySelector("body");if(!o)return;const r=new RegExp(/is-product-type-\w+/,"g");o.className.match(r)?o.className=o.className.replace(r,"is-product-type-"+t):o.classList.add("is-product-type-"+t)}},n={init(){this.onAdded(),this.onSaved(),this.moveFields()},onAdded(){r("body").on("woocommerce_added_attribute",()=>{[...document.querySelectorAll('#product_attributes [name*="attribute_variation["]')].forEach(e=>{e.checked=!0,e.dispatchEvent(new Event("change")),this.moveField(e.closest(".wc-metabox"))})})},onSaved(){r("#variable_product_options").on("reload",()=>{this.moveFields()})},moveFields(){[...document.querySelectorAll("#product_attributes .wc-metabox")].forEach(e=>{this.moveField(e)})},moveField(e){const t=e.querySelector("h3");if(!e.classList.contains("taxonomy")){const o=e.querySelector("td.attribute_name");o&&t.append(...o.childNodes)}const o=e.querySelector('td[rowspan="3"]');o&&t.append(...o.childNodes)}},a={init(){this.moveActionSelect(),this.renderToolbarButtons(),this.initSetPrice(),this.initSetSalePrice(),this.initSetStock()},moveActionSelect(){const e=document.querySelector(".variation_actions"),t=document.querySelector(".do_variation_action"),o=document.querySelector(".toolbar-variations-defaults");e&&o&&(o.appendChild(e),o.appendChild(t))},renderToolbarButtons(){const e=document.querySelector("#variable_product_options .toolbar-top");if(!e)return;const t=document.querySelector("#h-variation-buttons").innerHTML;e.innerHTML+=t},initSetPrice(){r("#variable_product_options").on("click",'.button[data-action="set-price"]',function(){const e=prompt("Enter the price");if(null===e)return;this.fillAllFields('input[name*="variable_regular_price"]',e)}.bind(this))},initSetSalePrice(){r("#variable_product_options").on("click",'.button[data-action="set-sale-price"]',function(){const e=prompt("Enter the discounted price (leave empty to remove sale)");if(null===e)return;this.fillAllFields('input[name*="variable_sale_price"]',e);let t="",o="";if(""!==e&&window.confirm("Set Sale Schedule?")&&(t=prompt("Enter start date (YYYY-MM-DD or leave blank)"),o=prompt("Enter end date (YYYY-MM-DD or leave blank)"),t.match(/\d{4}-\d{2}-\d{2}$/)||(t=""),o.match(/\d{4}-\d{2}-\d{2}$/)||(o=""),t)){[...document.querySelectorAll(".form-field.sale_price_dates_fields")].forEach(e=>{e.classList.remove("hidden"),e.style.display="block"})}this.fillAllFields('input[name*="variable_sale_price_dates_from"]',t),this.fillAllFields('input[name*="variable_sale_price_dates_to"]',o)}.bind(this))},initSetStock(){r("#variable_product_options").on("click",'.button[data-action="set-stock"]',function(){const e=prompt("Enter stock amount (leave empty if not managing stock)"),t=""!==e;if(this.tickAllCheckboxes('[name*="variable_manage_stock"]',t),""===e)return;this.fillAllFields('[name*="variable_stock"]',e)}.bind(this))},fillAllFields(e,t){[...document.querySelectorAll(e)].forEach(e=>{e.value=t,r(e).trigger("change")})},tickAllCheckboxes(e,t){[...document.querySelectorAll(e)].forEach(e=>{e.checked=t,r(e).trigger("change")})}},c={init(){r("#woocommerce-product-data").on("woocommerce_variations_loaded",this.render),r("#woocommerce-product-data").on("woocommerce_variations_added",this.render);[{field:'[name*="regular_price["]',overview:'[data-info="price"]'},{field:'[name*="sale_price["]',overview:'[data-info="sale-price"]'},{field:'[name*="variable_stock["]',overview:'[data-info="stock"]'}].forEach(e=>{r("#variable_product_options").on("change",e.field,t=>{this._updateOverview(t.currentTarget,e.overview)}),r("#woocommerce-product-data").on("woocommerce_variations_loaded",()=>{[...document.querySelectorAll(e.field)].forEach(t=>{this._updateOverview(t,e.overview)})})}),r("#variable_product_options").on("change",'[name*="variable_manage_stock["]',e=>{e.currentTarget.checked||this._updateOverview(e.currentTarget,'[data-info="stock"]')})},render(){const e=document.querySelectorAll("#variable_product_options .wc-metabox h3"),t=document.querySelector("#h-variation-overview").innerHTML;[...e].forEach(e=>{e.innerHTML.match(/h-variation-overview/)||(e.innerHTML+=t)})},_updateOverview(e,t){const o=e.closest(".wc-metabox").querySelector(".h-variation-overview");if(!o)return;const r=o.querySelector(t);e.value>0?r.classList.remove("hidden"):r.classList.add("hidden"),r.querySelector("span").textContent=e.value}};document.addEventListener("DOMContentLoaded",(function(){i.init(),n.init(),a.init(),c.init()})),window.addEventListener("load",(function(){}))},function(e,t,o){}]);