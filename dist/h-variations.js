!function(e){var a={};function o(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=a,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var i in e)o.d(t,i,function(a){return e[a]}.bind(null,i));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="",o(o.s=3)}([,,,function(e,a,o){"use strict";o.r(a);o(4);!function(e){function a(e){this.field=e.field,this.defaultPlaceholder=e.defaultPlaceholder}function o(e){this.field=e.field}function t(e){this.field=e.field}a.prototype={addListener:function(){var a=this,o=0;function t(){var t=e(this),i=e(this).closest(".woocommerce_variation").find(c[a.field]),r=!i.val(),n=i.val()===o;r&&t.val(o).change(),n&&i.val("")}e("#variable_product_options").on("change",n[a.field],(function(i){var n=(o=e(this).val())?o:a.defaultPlaceholder;e(c[a.field]).attr("placeholder",n),e(l[a.field]).val(o),e(r[a.field]).each(t)}))}},a.create=function(){e(n.form).remove();var a={currency:woocommerce_admin_meta_boxes.currency_format_symbol},o=Handlebars.compile(e("#hoo-global-form").html())(a);e("#variable_product_options .toolbar-top").after(o),e(n.price).val(e(l.price).val()),e(n.sale).val(e(l.sale).val())},o.prototype={addListener:function(){var a=this;e("#variable_product_options").on("change",c[a.field],(function(o){var t=e(this).val(),i=e(this).closest(".woocommerce_variation").find(r[a.field]);switch(a.field){case"price":case"sale":var c=e(n[a.field]).val();t===c?e(this).val(""):!t&&c&&(t=c);break;case"stock":t=parseInt(t);var l=e(this).closest(".woocommerce_variation").find(r.manageStock),s=e(this).closest(".woocommerce_variation").find(r.stockStatus);t>0||t<0?l.prop("checked",!0).change():0===t?(l.prop("checked",!1).change(),s.find("option:nth-child(2)").attr("selected","selected")):(l.prop("checked",!1).change(),s.find("option:nth-child(1)").attr("selected","selected"))}i.val(t)}))}},o.create=function(a){var o=a.closest(".woocommerce_variation").find("h3"),t=function(){var o=a.find(".h-variation-data").data("variation");o.currency=woocommerce_admin_meta_boxes.currency_format_symbol,o.globalPrice=e(n.price).val(),o.globalSale=e(n.sale).val(),o._regular_price=parseInt(o._regular_price),o._sale_price=parseInt(o._sale_price),o.isEqualGlobalPrice=o.globalPrice==o._regular_price,o.isEqualGlobalSale=o.globalSale==o._sale_price,o._regular_price||(o._regular_price=parseInt(o.globalPrice));o._sale_price||(o._sale_price=parseInt(o.globalSale));0===o._stock&&""===o._stock_status?o._stock=null:o._stock||"outofstock"!==o._stock_status||(o._stock=0);return o}(),i=Handlebars.compile(e("#hoo-quick-form").html())(t);o.append(i),o.find(c.price).change(),o.find(c.sale).change()},t.prototype={addListener:function(){var a=this;e("#variable_product_options").on("change",r[a.field],(function(o){var t=e(this).val(),i=e(this).closest(".woocommerce_variation").find(c[a.field]);switch(i.val(t),a.field){case"price":t||(t=0,e(this).val(t));break;case"sale":var r=i.closest(".quick-form");t?r.addClass("has-sale"):r.removeClass("has-sale")}if("price"===a.field||"sale"===a.field){var l=e(n[a.field]).val();t===l&&i.val("")}}))}};var i={init:function(){this.variation()},variation:function(){e("#variable_product_options").off("click",".wc-metabox h3"),e("#variable_product_options").off("click",".wc-metabox > h3"),e("#variable_product_options").on("click","h3 .handlediv",this.toggleVariation)},toggleVariation:function(){var a=e(this).closest(".woocommerce_variation");a.toggleClass("open closed"),a.find(".wc-metabox-content").slideToggle()}},r={form:".woocommerce_variation",price:'[name*="variable_regular_price"]',stock:'[name*="variable_stock["]',stockStatus:'[name*="variable_stock_status"]',manageStock:'[name*="variable_manage_stock"]',sale:'[name*="variable_sale_price["]'},n={form:".global-form",price:"#global-price",sale:"#global-sale"},c={form:".quick-form",price:'[name*="quick_price"]',sale:'[name*="quick_sale"]',stock:'[name*="quick_stock"]'},l={price:"#_regular_price",sale:"#_sale_price"},s={init:function(){var o=e("#variable_product_options");a.create(),e("#woocommerce-product-data").on("woocommerce_variations_loaded",this.onLoaded),e("#woocommerce-product-data").on("woocommerce_variations_added",this.onAdded),e("#woocommerce-product-data").on("woocommerce_variations_saved",this.onSaved),o.on("focus","h3 input",this.highlightHeader),o.on("blur","h3 input",this.removeHighlightHeader),this.addListener()},highlightHeader:function(a){e(this).closest(".woocommerce_variation").addClass("active")},removeHighlightHeader:function(a){e(this).closest(".woocommerce_variation").removeClass("active")},onLoaded:function(t){0===e(n.form).length&&a.create(),e(".woocommerce_variation").each((function(){o.create(e(this))}))},onAdded:function(a){var t=e(this).find(".woocommerce_variation:not(:has(.quick-form))");t.is(".variation-needs-update")&&o.create(t)},onSaved:function(a){var o={action:"h_after_save_variations",data:{post_id:woocommerce_admin_meta_boxes.post_id,global_price:e(n.price).val(),global_sale:e(n.sale).val()}};e.post(ajaxurl,o,(function(e){}))},addListener:function(){this.globalListener(),this.quickListener(),this.targetListener()},globalListener:function(){var e=new a({field:"price",defaultPlaceholder:"Price"}),o=new a({field:"sale",defaultPlaceholder:"Sale"});e.addListener(),o.addListener()},targetListener:function(){var e=new t({field:"price"}),a=new t({field:"sale"}),o=new t({field:"stock"});e.addListener(),a.addListener(),o.addListener()},quickListener:function(){var e=new o({field:"price"}),a=new o({field:"sale"}),t=new o({field:"stock"});e.addListener(),a.addListener(),t.addListener()}},d={init:function(){e(document.body).on("woocommerce_added_attribute",this.onAdded)},onAdded:function(a){e("#product_attributes").find('[name*="attribute_variation["]').prop("checked",!0).change()}},u=function(){e("#woocommerce-product-data").length&&(i.init(),s.init(),d.init())};e(document).ready(u),e(document).on("page:load",u)}(jQuery)},function(e,a,o){}]);